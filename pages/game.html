<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />

	<!-- Stylesheet -->
	<link rel="stylesheet" href="../styles/default.style.css" />
	<link rel="stylesheet" href="../styles/game.style.css" />

	<!-- JavaScript files -->
	<script defer src="../js/edge.js"></script>
	<script defer src="../js/box.js"></script>
	<script defer src="../js/board.js"></script>
	<script defer src="../js/game.js"></script>

	<!-- Logo of the game -->
	<link rel="icon" href="../assets/favicon.ico" type="image/x-icon" />
	<link rel="shortcut icon" href="../assets/favicon.ico" type="image/x-icon" />
	<style>
		.back-home:visited {
			color: white;
		}

		.circle {
            position: absolute;
            width: 25px;
            height: 25px;
            border-radius: 50%;
            pointer-events: none;
            background: radial-gradient(circle, rgba(73, 232, 247, 0.466), rgba(141, 38, 172, 0.5));
            transition: transform 0.1s, left 0.1s, top 0.1s;
        }

        .circle-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 9999;
        } 
	</style>

	<!-- Title of the game -->
	<title>Dots & Boxes Game</title>
</head>

<body>

	<div class="circle-container">
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
		<div class="circle"></div>
	</div>
	<script>
		document.addEventListener("DOMContentLoaded", function () {
			const coords = { x: 0, y: 0 };
			const circles = document.querySelectorAll(".circle");

			circles.forEach(function (circle) {
				circle.x = 0;
				circle.y = 0;
			});

			window.addEventListener("mousemove", function (e) {
				coords.x = e.pageX;
				coords.y = e.pageY - window.scrollY; // Adjust for vertical scroll position
			});

			function animateCircles() {
				let x = coords.x;
				let y = coords.y;

				circles.forEach(function (circle, index) {
					circle.style.left = `${x - 12}px`;
					circle.style.top = `${y - 12}px`;
					circle.style.transform = `scale(${(circles.length - index) / circles.length})`;

					const nextCircle = circles[index + 1] || circles[0];
					circle.x = x;
					circle.y = y;

					x += (nextCircle.x - x) * 0.3;
					y += (nextCircle.y - y) * 0.3;
				});

				requestAnimationFrame(animateCircles);
			}

			animateCircles();
		});

	</script>

	<video autoplay muted class="video" loop id="myVideo" style="opacity: 0.95">
		<source src="/assets/videos/1.mp4" type="video/mp4" />
	</video>


	<!-- Players -->
	<div class="players"></div>

	<div class="player-turn">
		<div class="bg" style="margin-top: 60px">
			<span class="name">PlayerX</span>'s turn
		</div>
	</div>

	<!-- Game Page -->
	<div class="board"></div>

	<button id="sound-toggle" style="
				background-color: grey;
				color: white;
				border: none;
				padding: 10px 20px;
				font-size: 16px;
				cursor: pointer;
			">
		Sound Off
	</button>

	<!-- Winner Overlay -->
	<div id="win-overlay" class="overlay">
		<!-- Overlay content -->
		<div class="overlay-content">
			<a href="../index.html">Go Back to Home</a>
			<a href="../pages/game.html">Play Again</a>
		</div>
	</div>

	<button style="
				background-color: grey;
				color: white;
				border: none;
				padding: 10px 20px;
				font-size: 16px;
				cursor: pointer;
			">
		<a href="../index.html" class="back-home">Back to Home</a>
	</button>

</body>

</html>